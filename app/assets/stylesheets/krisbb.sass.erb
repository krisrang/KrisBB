@import "compass"

$usercolours: #0099CC, #562573, #FF8800, #669900, #99CC00

@mixin avatar($max)
  width: $max
  height: $max

  img
    max-height: $max
    max-width: $max

body
  padding-top: 60px

.form-page
  width: 550px
  margin: 0 auto

.avatar
  display: inline-block
  text-align: center

  &.small
    @include avatar(35px)

  &.big
    @include avatar(140px)

  &.thumb
    @include avatar(20px)

table.users
  td
    vertical-align: middle

    &:last-child
      text-align: right

.archive-link
  display: block
  text-align: center
  padding: 10px
  margin-bottom: 20px
  font-weight: bold
  border: 1px solid #DDD
  @include border-radius(3px)

  &:hover
    text-decoration: none
    background: #0095CE
    color: #FFF

.sidebar
  position: fixed
  width: inherit

.messages
  li
    .avatar
      float: left
      padding: 0 5px

    .contents
      padding: 5px
      overflow: hidden
      word-wrap:  break-word

    .info
      margin-left: 40px
      padding: 0 10px

    .username
      color: #363636
      font-weight: bold

    .time
      color: #888888
      float: right
      font-size: 12px

  &.archive
    li
      margin-bottom: 20px
      background: #FFFFFF
      padding-top: 10px
      border-top: 1px solid rgba(0,0,0,0.15)
      @include box-shadow(0px 2px 5px rgba(0,0,0,0.2))

      @for $i from 1 through length($usercolours)
        $value: nth($usercolours, $i)
        &.user#{$i}
          @include box-shadow(0px 2px 5px rgba($value, 0.2))
          border-top: 1px solid rgba($value, 0.15)

  &.bb
    padding-bottom: 80px

    li
      border-top: 1px solid #EEEEEE
      position: relative
      min-height: 60px

      .avatar
        background: #EEEEEE

        &:after
          content: ""
          position: absolute
          top: 0
          left: 40px
          border-color: transparent
          border-style: solid
          border-width: 10px 10px 10px 0
          border-right-color: #FFFFFF

      .contents
        background: #FFFFFF

      .info
        background: #FFFFFF

      @for $i from 1 through length($usercolours)
        $value: nth($usercolours, $i)
        &.user#{$i}
          border-top-color: lighten($value, 40%)

.send-message
  position: fixed
  bottom: 0
  float: none
  height: 70px
  margin: 0 -10px
  padding: 10px
  background: #F5F4F2
  border-top: 1px solid #99CC00

  &.sending
    .message-controls
      .message-submit
        i.icon-comment
          display: none

        i.pending
          display: inline-block 


  .message-controls
    float: right

    .message-submit
      width: 60px

      i.pending
        display: none

    .enter-toggle
      padding: 3px 0 0 3px

      label
        cursor: hand
        cursor: pointer
        display: inline

  .message-box
    margin-right: 80px

    textarea
      height: 60px
      width: 100%
      resize: none

@media (max-width: 600px)
  .form-page
    width: auto
    margin: 10px auto 0

@media (max-width: 767px)
  .sidebar
    position: relative

  .send-message
    left: 0
    right: 0
    margin: 0
    box-sizing: content-box

    .message-controls
      margin-right: 20px

    .message-box
      margin-right: 100px

  body.bb
    .navbar-fixed-top
      margin-left: 0px
      margin-right: 0px

@media (max-width: 979px)
  body
    padding-top: 0

    &.bb
      padding-top: 60px

      .navbar-fixed-top
        position: fixed

